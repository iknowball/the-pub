(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{7493:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var o=r(5155),l=r(2115),a=r(2619),n=r.n(a),s=r(2078),d=r(9708),c=r(1328);let i=(0,s.Wp)({apiKey:"AIzaSyBtsOBlh52YZagsLXp9_dcCq4qhkHBSWnU",authDomain:"thepub-sigma.firebaseapp.com",projectId:"thepub-sigma"}),m=(0,d.aU)(i),b=(0,c.xI)(i),h=e=>{let{entry:t,index:r}=e;return(0,o.jsxs)("tr",{className:"hover:bg-amber-600",children:[(0,o.jsx)("td",{className:"p-2 border border-yellow-600",children:r+1}),(0,o.jsxs)("td",{className:"p-2 border border-yellow-600",children:[t.score,"/25"]}),(0,o.jsx)("td",{className:"p-2 border border-yellow-600",children:u(t.time)}),(0,o.jsx)("td",{className:"p-2 border border-yellow-600",children:new Date(t.timestamp).toLocaleString()})]})};function u(e){let t=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)}function x(e){if(e)return e.uid;let t=localStorage.getItem("anonUserId");return t||(t="anon-"+Math.random().toString(36).substring(2,15),localStorage.setItem("anonUserId",t)),t}let g=e=>{let t=e.map(e=>e?"✅":"❌");for(;t.length<5;)t.push("❓");return t.join("")},f=()=>{let[e,t]=(0,l.useState)(null),[r,a]=(0,l.useState)([]),[s,i]=(0,l.useState)(1),[f,w]=(0,l.useState)(0),[p,y]=(0,l.useState)([]),[v,S]=(0,l.useState)(0),[j,N]=(0,l.useState)(!1),[k,C]=(0,l.useState)(""),[I,A]=(0,l.useState)(!1),[_,E]=(0,l.useState)(!1),[D,G]=(0,l.useState)([]),[H,O]=(0,l.useState)(null),[L,M]=(0,l.useState)("Copy to Clipboard"),[T,U]=(0,l.useState)(!1),P=(0,l.useRef)(null),z=(0,l.useRef)(null);(0,l.useEffect)(()=>{document.body.style.backgroundImage="url('https://awolvision.com/cdn/shop/articles/sports_bar_awolvision.jpg?v=1713302733&width=1500')",document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.backgroundColor="#451a03"},[]),(0,l.useEffect)(()=>(0,c.hg)(b,e=>{t(e),e||(0,c.zK)(b)}),[]),(0,l.useEffect)(()=>{(async()=>{let e=function(){let e=new Date(new Date().toLocaleString("en-US",{timeZone:"America/New_York"}));return e.setHours(0,0,0,0),e.toISOString().slice(0,10)}(),t=(0,d.H9)(m,"dailyCollegeAthletes",e),r=await (0,d.x7)(t);r.exists()&&Array.isArray(r.data().athletes)?a(r.data().athletes):a([])})()},[]),(0,l.useEffect)(()=>{if(j)return P.current=setInterval(()=>{S(e=>e+1)},1e3),()=>{P.current&&clearInterval(P.current)}},[j]),(0,l.useEffect)(()=>{G(JSON.parse(localStorage.getItem("collegeGameHistory")||"[]"))},[I,_]),(0,l.useEffect)(()=>{e&&(async()=>{let t=(0,d.H9)(m,"collegeAverages",x(e)),r=await (0,d.x7)(t);r.exists()&&O(r.data().averageScore)})()},[e,I]);let B=async(t,r)=>{try{let o=x(e);await (0,d.gS)((0,d.rJ)(m,"collegeGameScores"),{userId:o,score:t,time:r,playedAt:new Date().toISOString()}),await F(o)}catch(e){}},F=async e=>{try{let t=(0,d.P)((0,d.rJ)(m,"collegeGameScores"),(0,d._M)("userId","==",e)),r=await (0,d.GG)(t),o=0,l=0;r.forEach(e=>{o+=e.data().score,l+=1});let a=0===l?0:o/l;await (0,d.BN)((0,d.H9)(m,"collegeAverages",e),{userId:e,averageScore:a,lastUpdated:new Date().toISOString(),gamesPlayed:l})}catch(e){}},J=window.location.origin+"/college-game.html",Y=r[s-1],K=()=>{var e;if(!Y)return;let t=(null==(e=z.current)?void 0:e.value.trim().toLowerCase())||"",r=Y.college.toLowerCase();if(C(""),t===r)w(e=>e+5),C("Nailed it! +5 points! \uD83C\uDFC0"),y(e=>[...e,!0]),N(!1);else{if(2>=function(e,t){let r=Array(t.length+1).fill(null).map(()=>Array(e.length+1).fill(0));for(let t=0;t<=e.length;t++)r[0][t]=t;for(let e=0;e<=t.length;e++)r[e][0]=e;for(let o=1;o<=t.length;o++)for(let l=1;l<=e.length;l++){let a=+(e[l-1]!==t[o-1]);r[o][l]=Math.min(r[o-1][l]+1,r[o][l-1]+1,r[o-1][l-1]+a)}return r[t.length][e.length]}(t,r)&&t.length>0){C("So close! Try again, you're off by a letter or two!"),z.current&&(z.current.value="");return}C("Swing and a miss! It was ".concat(Y.college,".")),y(e=>[...e,!1]),N(!1)}};return(0,l.useEffect)(()=>{r.length>0&&!_&&(N(!0),S(0))},[r,_]),(0,o.jsxs)("div",{className:"flex flex-col items-center min-h-screen font-montserrat",children:[(0,o.jsx)("style",{children:"\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in { animation: fade-in 0.3s ease-out; }\n        .font-montserrat { font-family: 'Montserrat', sans-serif; }\n        .share-buttons-row {\n          display: flex; flex-direction: row; gap: 14px; justify-content: center; align-items: center;\n        }\n        .clipboard-btn, .sms-btn {\n          background: #f9e38f; color: #533e1f; font-weight: bold; border-radius: 8px; border: 2px solid #cfb467;\n          padding: 7px 18px; cursor: pointer; box-shadow: 0 2px 8px #cfb46733; margin-top: 8px; margin-bottom: 8px;\n          transition: background 0.2s, color 0.2s; display: inline-block;\n        }\n        .clipboard-btn:hover, .sms-btn:hover { background: #fffbe7; color: #b88340; }\n        .share-preview {\n          font-size: 1.15rem; color: #f9e38f; font-weight: bold; margin-top: 10px; margin-bottom: 6px; text-align: center; word-break: break-word;\n        }\n        .share-link-ball {\n          color: #ffd700; text-decoration: underline; font-size: 1.15rem; font-weight: bold; margin-left: 6px; cursor: pointer;\n        }\n        .share-link-ball:hover { color: #ffbb33; text-decoration: underline; }\n      "}),(0,o.jsx)("header",{className:"w-full max-w-md bg-amber-800/90 text-yellow-300 text-center py-2 border-2 border-yellow-600 rounded-lg mb-4 shadow-lg transform hover:shadow-xl transition duration-200",children:(0,o.jsx)("p",{className:"text-lg font-bold",children:"New Games Daily at Midnight Eastern"})}),(0,o.jsxs)("div",{className:"bg-amber-900/90 p-6 rounded-xl shadow-2xl w-full max-w-md border-2 border-yellow-600 relative",id:"gameContainer",children:[(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:[(0,o.jsx)(n(),{href:"/",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"Home"}),(0,o.jsx)(n(),{href:"/news",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"News"}),(0,o.jsx)(n(),{href:"/game",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"Players"}),(0,o.jsx)(n(),{href:"/trivia-game",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"Trivia"})]}),(0,o.jsx)("h1",{className:"text-3xl font-bold text-center text-yellow-300 mb-4",children:"College Guess"}),(0,o.jsxs)("p",{className:"text-center text-yellow-300 mb-2 text-lg",children:["Level: ",(0,o.jsx)("span",{children:s}),"/5"]}),!_&&Y&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{className:"text-center text-yellow-300 mb-4 text-lg",children:["Guess the college for ",(0,o.jsx)("span",{children:Y.name})]}),(0,o.jsx)("input",{ref:z,type:"text",placeholder:"Enter college name...",className:"w-full p-3 bg-amber-800/90 text-white border-2 border-yellow-600 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-yellow-600",autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&K()},disabled:_}),(0,o.jsx)("button",{className:"w-full bg-amber-600 text-white p-3 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 font-bold mb-2 border-2 border-yellow-600 shadow-md ".concat(p.length===s?"hidden":""),onClick:K,disabled:_,children:"Submit Answer"}),(0,o.jsx)("button",{className:"w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transform hover:scale-105 transition duration-200 font-bold ".concat(p.length!==s?"hidden":""),onClick:()=>{s<5?(i(e=>e+1),C(""),N(!0),z.current&&(z.current.value="")):(E(!0),U(!0),N(!1),((e,t)=>{let r=JSON.parse(localStorage.getItem("collegeGameHistory")||"[]");r.push({score:e,time:t,timestamp:new Date().toISOString()}),localStorage.setItem("collegeGameHistory",JSON.stringify(r)),G(r)})(f,v),B(f,v))},children:s<5?"Next Level":"Finish"})]}),(0,o.jsx)(n(),{href:"/",className:"w-full bg-red-600 text-white p-3 rounded-lg hover:bg-red-700 transform hover:scale-105 transition duration-200 font-bold ".concat(_?"":"hidden"," border-2 border-yellow-600 shadow-md text-center"),children:"Back to Home"}),(0,o.jsx)("button",{className:"w-full bg-red-600 text-white p-3 rounded-lg hover:bg-red-700 transform hover:scale-105 transition duration-200 font-bold mt-2 border-2 border-yellow-600 shadow-md ".concat(_?"":"hidden"),onClick:()=>A(!0),children:"View Stats"}),(0,o.jsx)("p",{className:"text-center mt-4 text-xl font-bold animate-fade-in",children:k}),(0,o.jsxs)("div",{className:"flex flex-row items-center justify-center gap-4 mt-4",children:[(0,o.jsx)("div",{className:"bg-amber-800/90 text-yellow-300 border-2 border-yellow-600 rounded px-2 py-1 text-sm font-bold",children:u(v)}),(0,o.jsxs)("p",{className:"text-yellow-300 text-center mb-0",children:["Score: ",(0,o.jsx)("span",{children:f}),"/25"]})]}),(0,o.jsxs)("div",{className:"text-center mt-4 ".concat(T?"":"hidden"," text-yellow-300"),id:"shareLink",children:[(0,o.jsxs)("div",{className:"share-buttons-row",children:[(0,o.jsx)("button",{className:"clipboard-btn",onClick:()=>{let e="".concat(g(p)," Do you know ball? ").concat(J);navigator.clipboard.writeText(e).then(()=>{M("Copied!"),setTimeout(()=>M("Copy to Clipboard"),1200)}).catch(()=>{M("Copy Failed"),setTimeout(()=>M("Copy to Clipboard"),1200)})},children:L}),(0,o.jsx)("a",{className:"sms-btn",href:"sms:?body="+encodeURIComponent("".concat(g(p)," Do you know ball? ").concat(J)),target:"_blank",children:"Send as SMS"})]}),(0,o.jsx)("div",{className:"share-preview",dangerouslySetInnerHTML:{__html:"".concat(g(p),' <a href="').concat(J,'" class="share-link-ball" target="_blank">Do you know ball?</a>')}})]})]}),I&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"bg-amber-800/90 p-6 rounded-xl w-full max-w-md border-2 border-yellow-600 shadow-lg",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-center text-yellow-300 mb-4",children:"Your College Guess Stats"}),(0,o.jsx)("p",{className:"text-center text-yellow-300 mb-4 text-lg",children:null!==H?"Average Score (cloud): ".concat(H.toFixed(1),"/25"):"Average Score (local): ".concat(D.length>0?(D.reduce((e,t)=>e+t.score,0)/D.length).toFixed(1):"0","/25")}),(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"w-full text-yellow-300 border-collapse",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"bg-amber-700/90",children:[(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Attempt"}),(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Score"}),(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Time"}),(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Date"})]})}),(0,o.jsx)("tbody",{className:"text-center",children:D.map((e,t)=>(0,o.jsx)(h,{entry:e,index:t},t))})]})}),(0,o.jsx)("button",{className:"w-full bg-amber-600 text-white p-3 rounded-lg hover:bg-amber-700 font-bold mt-4 border-2 border-yellow-600 shadow-md",onClick:()=>A(!1),children:"Close"})]})})]})}},8685:(e,t,r)=>{Promise.resolve().then(r.bind(r,7493))}},e=>{e.O(0,[135,210,619,353,441,255,358],()=>e(e.s=8685)),_N_E=e.O()}]);