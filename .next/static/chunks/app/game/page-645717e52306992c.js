(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{4114:(e,t,r)=>{Promise.resolve().then(r.bind(r,9265))},9265:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var o=r(5155),a=r(2115),l=r(2619),n=r.n(l),s=r(2078),d=r(9708),i=r(1328);let c=(0,s.Wp)({apiKey:"AIzaSyBtsOBlh52YZagsLXp9_dcCq4qhkHBSWnU",authDomain:"thepub-sigma.firebaseapp.com",projectId:"thepub-sigma"}),b=(0,d.aU)(c),m=(0,i.xI)(c);function h(e){if(e)return e.uid;let t=localStorage.getItem("anonUserId");return t||(t="anon-"+Math.random().toString(36).substring(2,15),localStorage.setItem("anonUserId",t)),t}function u(e){let t=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)}let x=e=>{let t=e.map(e=>e?"✅":"❌");for(;t.length<5;)t.push("❓");return t.join("")},f=()=>{let[e,t]=(0,a.useState)(null),[r,l]=(0,a.useState)([]),[s,c]=(0,a.useState)(1),[f,g]=(0,a.useState)(0),[w,p]=(0,a.useState)([]),[y,v]=(0,a.useState)(0),[j,S]=(0,a.useState)(!1),[N,k]=(0,a.useState)(""),[C,I]=(0,a.useState)(!1),[A,_]=(0,a.useState)(!1),[E,D]=(0,a.useState)([]),[H,L]=(0,a.useState)(null),[O,M]=(0,a.useState)("Copy to Clipboard"),[T,P]=(0,a.useState)(!1),[U,z]=(0,a.useState)(!1),B=(0,a.useRef)(null),F=(0,a.useRef)(null);(0,a.useEffect)(()=>{document.body.style.backgroundImage="url('https://awolvision.com/cdn/shop/articles/sports_bar_awolvision.jpg?v=1713302733&width=1500')",document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.backgroundColor="#451a03"},[]),(0,a.useEffect)(()=>(0,i.hg)(m,e=>{t(e),e||(0,i.zK)(m)}),[]),(0,a.useEffect)(()=>{(async()=>{let e=(()=>{let e=new Date(new Date().toLocaleString("en-US",{timeZone:"America/New_York"}));return e.setHours(0,0,0,0),e.toISOString().slice(0,10)})(),t=(0,d.H9)(b,"dailyPlayers",e),r=await (0,d.x7)(t);r.exists()&&Array.isArray(r.data().players)?l(r.data().players):l([])})()},[]),(0,a.useEffect)(()=>{if(j)return B.current=setInterval(()=>{v(e=>e+1)},1e3),()=>{B.current&&clearInterval(B.current)}},[j]),(0,a.useEffect)(()=>{D(JSON.parse(localStorage.getItem("scoreHistory")||"[]"))},[C,A]),(0,a.useEffect)(()=>{e&&(async()=>{let t=(0,d.H9)(b,"userAverages",h(e)),r=await (0,d.x7)(t);r.exists()&&L(r.data().averageScore)})()},[e,C]);let J=async(t,r)=>{try{let o=h(e);await (0,d.gS)((0,d.rJ)(b,"gameScores"),{userId:o,score:t,time:r,playedAt:new Date().toISOString()}),await Y(o)}catch(e){}},Y=async e=>{try{let t=(0,d.P)((0,d.rJ)(b,"gameScores"),(0,d._M)("userId","==",e)),r=await (0,d.GG)(t),o=0,a=0;r.forEach(e=>{o+=e.data().score,a+=1});let l=0===a?0:o/a;await (0,d.BN)((0,d.H9)(b,"userAverages",e),{userId:e,averageScore:l,lastUpdated:new Date().toISOString(),gamesPlayed:a})}catch(e){}},K=r[s-1],W=()=>{var e;if(!K)return;let t=(null==(e=F.current)?void 0:e.value.trim().toLowerCase())||"",r=K.name.toLowerCase();if(k(""),t===r)g(e=>e+5),k("Nailed it! +5 points! \uD83C\uDFC0"),p(e=>[...e,!0]);else{if(2>=((e,t)=>{let r=Array(t.length+1).fill(null).map(()=>Array(e.length+1).fill(0));for(let t=0;t<=e.length;t++)r[0][t]=t;for(let e=0;e<=t.length;e++)r[e][0]=e;for(let o=1;o<=t.length;o++)for(let a=1;a<=e.length;a++){let l=+(e[a-1]!==t[o-1]);r[o][a]=Math.min(r[o-1][a]+1,r[o][a-1]+1,r[o-1][a-1]+l)}return r[t.length][e.length]})(t,r)&&t.length>0){k("So close! Try again, you're off by a letter or two!"),F.current&&(F.current.value="");return}k("Swing and a miss! It was ".concat(K.name,".")),p(e=>[...e,!1])}};return(0,a.useEffect)(()=>{r.length>0&&!A&&(S(!0),v(0))},[r,A]),(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen font-montserrat",children:[(0,o.jsx)("style",{children:"\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in { animation: fade-in 0.3s ease-out; }\n        .font-montserrat { font-family: 'Montserrat', sans-serif; }\n        .share-buttons-row {\n          display: flex; flex-direction: row; gap: 14px; justify-content: center; align-items: center;\n        }\n        .clipboard-btn, .sms-btn {\n          background: #f9e38f; color: #533e1f; font-weight: bold; border-radius: 8px; border: 2px solid #cfb467;\n          padding: 7px 18px; cursor: pointer; box-shadow: 0 2px 8px #cfb46733; margin-top: 8px; margin-bottom: 8px;\n          transition: background 0.2s, color 0.2s; display: inline-block;\n        }\n        .clipboard-btn:hover, .sms-btn:hover { background: #fffbe7; color: #b88340; }\n        .share-preview {\n          font-size: 1.15rem; color: #f9e38f; font-weight: bold; margin-top: 10px; margin-bottom: 6px; text-align: center; word-break: break-word;\n        }\n        .share-link-ball {\n          color: #ffd700; text-decoration: underline; font-size: 1.15rem; font-weight: bold; margin-left: 6px; cursor: pointer;\n        }\n        .share-link-ball:hover { color: #ffbb33; text-decoration: underline; }\n        .share-buttons-row {\n          display: flex;\n          flex-direction: row;\n          gap: 14px;\n          justify-content: center;\n          align-items: center;\n        }\n      "}),(0,o.jsx)("header",{className:"w-full max-w-md bg-amber-800/90 text-yellow-300 text-center py-2 border-2 border-yellow-600 rounded-lg mb-4 shadow-lg transform hover:shadow-xl transition duration-200",children:(0,o.jsx)("p",{className:"text-lg font-bold",children:"New Games Daily at Midnight Eastern"})}),(0,o.jsxs)("div",{className:"bg-amber-900/90 p-6 rounded-xl shadow-2xl w-full max-w-md border-2 border-yellow-600 relative",id:"gameContainer",children:[(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:[(0,o.jsx)(n(),{href:"/",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"Home"}),(0,o.jsx)(n(),{href:"/news",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"News"}),(0,o.jsx)(n(),{href:"/trivia-game",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"Trivia"}),(0,o.jsx)(n(),{href:"/college-game",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"College"})]}),(0,o.jsx)("h1",{className:"text-3xl font-bold text-center text-yellow-300 mb-4",children:"Who is This?"}),(0,o.jsxs)("p",{className:"text-center text-yellow-300 mb-2 text-lg",children:["Level: ",(0,o.jsx)("span",{children:s}),"/5"]}),(0,o.jsxs)("div",{className:"relative w-full h-72 mb-4 rounded-lg overflow-hidden border-2 border-yellow-600",children:[K&&(0,o.jsx)("img",{src:K.image,alt:"Athlete",className:"w-full h-full object-cover",onError:()=>z(!0),onLoad:()=>z(!1),style:{display:U?"none":"block"}}),(0,o.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]}),U&&(0,o.jsx)("p",{className:"text-center mb-4 text-red-500",children:"Image failed to load. Keep guessing!"}),!A&&K&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{ref:F,type:"text",placeholder:"Who's this athlete?",className:"w-full p-3 bg-amber-800/90 text-white border-2 border-yellow-600 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-yellow-600",autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&W()},disabled:A}),(0,o.jsx)("button",{className:"w-full bg-amber-600 text-white p-3 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 font-bold mb-2 border-2 border-yellow-600 shadow-md ".concat(w.length===s?"hidden":""),onClick:W,disabled:A,children:"Submit Answer"}),(0,o.jsx)("button",{className:"w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transform hover:scale-105 transition duration-200 font-bold ".concat(w.length!==s?"hidden":""),onClick:()=>{s<5?(c(e=>e+1),k(""),z(!1),F.current&&(F.current.value="")):(_(!0),P(!0),S(!1),((e,t)=>{let r=JSON.parse(localStorage.getItem("scoreHistory")||"[]");r.push({score:e,time:t,timestamp:new Date().toISOString()}),localStorage.setItem("scoreHistory",JSON.stringify(r)),D(r)})(f,y),J(f,y))},children:s<5?"Next Level":"Finish"})]}),(0,o.jsx)(n(),{href:"/",className:"w-full bg-red-600 text-white p-3 rounded-lg hover:bg-red-700 transform hover:scale-105 transition duration-200 font-bold ".concat(A?"":"hidden"," border-2 border-yellow-600 shadow-md text-center"),children:"Back to Home"}),(0,o.jsx)("button",{className:"w-full bg-red-600 text-white p-3 rounded-lg hover:bg-red-700 transform hover:scale-105 transition duration-200 font-bold mt-2 border-2 border-yellow-600 shadow-md ".concat(A?"":"hidden"),onClick:()=>I(!0),children:"View Stats"}),(0,o.jsx)("p",{className:"text-center mt-4 text-xl font-bold animate-fade-in",children:N}),(0,o.jsxs)("div",{className:"flex flex-row items-center justify-center gap-4 mt-4",children:[(0,o.jsx)("div",{className:"bg-amber-800/90 text-yellow-300 border-2 border-yellow-600 rounded px-2 py-1 text-sm font-bold",children:u(y)}),(0,o.jsxs)("p",{className:"text-yellow-300 text-center mb-0",children:["Score: ",(0,o.jsx)("span",{children:f}),"/25"]})]}),(0,o.jsxs)("div",{className:"text-center mt-4 ".concat(T?"":"hidden"," text-yellow-300"),id:"shareLink",children:[(0,o.jsxs)("div",{className:"share-buttons-row",children:[(0,o.jsx)("button",{className:"clipboard-btn",onClick:()=>{let e=(e=>{let t=window.location.origin+"/game";return"".concat(x(e)," Do you know ball? ").concat(t)})(w);navigator.clipboard.writeText(e).then(()=>{M("Copied!"),setTimeout(()=>M("Copy to Clipboard"),1200)}).catch(()=>{M("Copy Failed"),setTimeout(()=>M("Copy to Clipboard"),1200)})},children:O}),(0,o.jsx)("a",{className:"sms-btn",href:(e=>{let t=window.location.origin+"/game";return"sms:?body="+encodeURIComponent("".concat(x(e)," Do you know ball? ").concat(t))})(w),target:"_blank",children:"Send as SMS"})]}),(0,o.jsx)("div",{className:"share-preview",dangerouslySetInnerHTML:{__html:(e=>{let t=window.location.origin+"/game";return"".concat(x(e),' <a href="').concat(t,'" class="share-link-ball" target="_blank">Do you know ball?</a>')})(w)}})]})]}),C&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"bg-amber-800/90 p-6 rounded-xl w-full max-w-md border-2 border-yellow-600 shadow-lg",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-center text-yellow-300 mb-4",children:"Your Pub Quiz Stats"}),(0,o.jsx)("p",{className:"text-center text-yellow-300 mb-4 text-lg",children:null!==H?"Average Score (cloud): ".concat(H.toFixed(1),"/25"):"Average Score (local): ".concat(E.length>0?(E.reduce((e,t)=>e+t.score,0)/E.length).toFixed(1):"0","/25")}),(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"w-full text-yellow-300 border-collapse",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"bg-amber-700/90",children:[(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Attempt"}),(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Score"}),(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Time"}),(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Date"})]})}),(0,o.jsx)("tbody",{className:"text-center",children:E.map((e,t)=>(0,o.jsxs)("tr",{className:"hover:bg-amber-600",children:[(0,o.jsx)("td",{className:"p-2 border border-yellow-600",children:t+1}),(0,o.jsxs)("td",{className:"p-2 border border-yellow-600",children:[e.score,"/25"]}),(0,o.jsx)("td",{className:"p-2 border border-yellow-600",children:u(e.time)}),(0,o.jsx)("td",{className:"p-2 border border-yellow-600",children:new Date(e.timestamp).toLocaleString()})]},t))})]})}),(0,o.jsx)("button",{className:"w-full bg-amber-600 text-white p-3 rounded-lg hover:bg-amber-700 font-bold mt-4 border-2 border-yellow-600 shadow-md",onClick:()=>I(!1),children:"Close"})]})})]})}}},e=>{e.O(0,[135,210,619,353,441,255,358],()=>e(e.s=4114)),_N_E=e.O()}]);