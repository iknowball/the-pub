(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[648],{3778:(e,n,a)=>{Promise.resolve().then(a.bind(a,9908))},9908:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>u});var t=a(5155),s=a(2115),o=a(2619),r=a.n(o),l=a(2078),i=a(9708),d=a(1328);let m=(0,l.Wp)({apiKey:"AIzaSyBtsOBlh52YZagsLXp9_dcCq4qhkHBSWnU",authDomain:"thepub-sigma.firebaseapp.com",projectId:"thepub-sigma"}),c=(0,i.aU)(m),b=(0,d.xI)(m),u=function(){let[e,n]=(0,s.useState)(null),[a,o]=(0,s.useState)([]),[l,m]=(0,s.useState)(""),u=(0,s.useRef)(null);(0,s.useEffect)(()=>(0,d.hg)(b,n),[]),(0,s.useEffect)(()=>{let e=(0,i.P)((0,i.rJ)(c,"bulletin"),(0,i.My)("timestamp","desc")),n=(0,i.aQ)(e,e=>{let n=[];e.forEach(e=>{let a=e.data();n.push({id:e.id,message:a.message,displayName:a.displayName||"Anonymous",uid:a.uid,timestamp:a.timestamp})}),o(n),u.current&&(u.current.scrollTop=0)});return()=>n()},[]);let p=async n=>{if(n.preventDefault(),!l.trim())return;let a={message:l.trim(),displayName:(null==e?void 0:e.displayName)||(null==e?void 0:e.email)||"Anonymous",uid:null==e?void 0:e.uid,timestamp:(0,i.O5)()};await (0,i.gS)((0,i.rJ)(c,"bulletin"),a),m("")};return(0,s.useEffect)(()=>{document.body.style.backgroundImage="url('https://awolvision.com/cdn/shop/articles/sports_bar_awolvision.jpg?v=1713302733&width=1500')",document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.backgroundColor="#2f2e22"},[]),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen font-montserrat pb-16",children:[(0,t.jsx)("style",{children:"\n        .glass-panel {\n          background: rgba(33, 28, 18, 0.78);\n          backdrop-filter: blur(3px);\n          border-radius: 1.25rem;\n          box-shadow: 0 8px 36px 0 rgba(0,0,0,0.6);\n          border: 2px solid #d4a827;\n        }\n        .sports-bar-header {\n          font-family: 'Montserrat', sans-serif;\n          color: #fbbf24;\n          text-shadow: 0 2px 12px #1e293b;\n        }\n        .chat-bubble {\n          max-width: 85%;\n          margin-bottom: 1.1rem;\n          background: linear-gradient(90deg, #3f3f2e 0%, #523b1d 100%);\n          border-radius: 0.85rem;\n          box-shadow: 0 2px 12px #1a1a1a44;\n          padding: 1rem 1.2rem;\n          position: relative;\n          display: flex;\n          flex-direction: column;\n          transition: background 0.2s;\n          border: 1.5px solid #d4a827;\n        }\n        .chat-bubble .username {\n          font-weight: 700;\n          color: #e6c86a;\n          font-family: 'Montserrat',sans-serif;\n          margin-bottom: 2px;\n          font-size: 1.02rem;\n          letter-spacing: 0.01em;\n        }\n        .chat-bubble .timestamp {\n          font-size: 0.78em;\n          color: #e7a11e;\n          align-self: flex-end;\n          margin-top: 2px;\n          margin-left: 5px;\n        }\n        .chat-bubble.own {\n          background: linear-gradient(90deg, #2f523b 0%, #3f8f60 100%);\n          color: #fff;\n          border-color: #44a869;\n        }\n        .chat-bubble:hover {\n          background: #5e4c27;\n        }\n        .glass-panel input,\n        .glass-panel button {\n          font-family: 'Montserrat', sans-serif;\n        }\n        .glass-panel input::placeholder {\n          color: #d6cfa7;\n          font-style: italic;\n        }\n        .user-bar {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          margin-bottom: 1.5rem;\n          padding: 0.4rem 0.2rem;\n          border-bottom: 1px solid #d4a827;\n        }\n        .user-avatar {\n          width: 38px;\n          height: 38px;\n          border-radius: 50%;\n          background: #d4a827;\n          box-shadow: 0 2px 8px #3b2f0e77;\n          border: 2px solid #fbbf24;\n        }\n        .user-display {\n          font-family: 'Montserrat', sans-serif;\n          color: #fbbf24;\n          font-weight: 700;\n          font-size: 1.12rem;\n          letter-spacing: 0.02em;\n        }\n        .anonymous {\n          color: #a3a3a3;\n          font-style: italic;\n        }\n        .message-list-bg {\n          background: rgba(255, 245, 191, 0.07);\n          border-radius: 1rem;\n          border: 1.5px solid #d4a827;\n        }\n        @media (max-width: 500px) {\n          .glass-panel { padding: 0.7rem; }\n        }\n      "}),(0,t.jsxs)("div",{className:"w-full max-w-md glass-panel p-6 shadow-xl",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold sports-bar-header mb-7 text-center",children:"Welcome to the Pub"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-1 text-center",children:"Main Bar"}),(0,t.jsxs)("div",{className:"user-bar mb-2",id:"userBar",children:[(0,t.jsx)("img",{className:"user-avatar",src:e?e.photoURL||"https://robohash.org/".concat(e.uid,"?set=set5&size=38x38"):"https://robohash.org/anon?set=set5&size=38x38",alt:"User avatar"}),(0,t.jsx)("span",{className:"user-display".concat(e?"":" anonymous"),children:e&&(e.displayName||e.email)||"Anonymous"}),!e&&(0,t.jsx)("button",{onClick:()=>{(0,d.df)(b,new d.HF)},className:"ml-2 bg-amber-600 hover:bg-amber-700 text-white font-bold px-2 py-1 rounded-lg shadow text-sm border-2 border-yellow-600",children:"Sign in with Google"})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("form",{className:"flex flex-col",onSubmit:p,children:[(0,t.jsx)("input",{type:"text",id:"messageInput",className:"w-full p-2 rounded-lg border-2 border-yellow-600 bg-amber-900/90 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-600",placeholder:"Type your message...",value:l,onChange:e=>m(e.target.value),disabled:!e,autoComplete:"off"}),(0,t.jsx)("button",{type:"submit",id:"postMessage",className:"w-full mt-2 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md",disabled:!e||!l.trim(),children:"Send"})]})}),(0,t.jsx)("div",{id:"messageList",ref:u,className:"max-h-72 overflow-y-auto message-list-bg p-4 mb-1",children:a.map((n,a)=>{let s=e&&n.uid===(null==e?void 0:e.uid),o=n.timestamp&&n.timestamp.toDate?"".concat(n.timestamp.toDate().toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit"})," ").concat(n.timestamp.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):"";return(0,t.jsxs)("div",{className:"chat-bubble".concat(s?" own ml-auto":""),children:[(0,t.jsx)("span",{className:"username".concat(n.displayName?"":" anonymous"),children:n.displayName||"Anonymous"}),(0,t.jsx)("span",{className:"timestamp",children:o}),(0,t.jsx)("span",{children:n.message})]},n.id||a)})}),(0,t.jsx)(r(),{href:"/",className:"block w-full mt-4 bg-amber-600 text-white font-bold p-4 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"Back to Home"})]})]})}}},e=>{e.O(0,[135,210,619,353,441,255,358],()=>e(e.s=3778)),_N_E=e.O()}]);