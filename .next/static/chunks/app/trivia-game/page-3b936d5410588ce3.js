(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{6217:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var o=r(5155),a=r(2115),n=r(2619),s=r.n(n),l=r(2078),i=r(9708),d=r(1328);let c=(0,l.Wp)({apiKey:"AIzaSyBtsOBlh52YZagsLXp9_dcCq4qhkHBSWnU",authDomain:"thepub-sigma.firebaseapp.com",projectId:"thepub-sigma"}),h=(0,i.aU)(c),u=(0,d.xI)(c),m=[{question:"Which team won the Super Bowl in 2010?",answer:"Saints"},{question:"Who was the NFL MVP in 2018?",answer:"Patrick Mahomes"},{question:"Which QB threw a 99-yard touchdown pass in 2011?",answer:"Matt Stafford"},{question:"Which player holds the record for most career sacks?",answer:"Bruce Smith"},{question:"Who was the first overall pick in the 2020 NFL Draft?",answer:"Joe Burrow"},{question:"Which stadium do the Seattle Seahawks play in?",answer:"Lumen Field"},{question:"Who was the coach of the Patriots for their first Super Bowl win?",answer:"Bill Belichick"},{question:"Which team has the most Super Bowl appearances?",answer:"Patriots"},{question:"Which running back had a 2,000 yard season in 2009?",answer:"Chris Johnson"},{question:"Which kicker hit the double-doink in the playoffs?",answer:"Cody Parkey"},{question:"Who was the 'Steel Curtain' defense's leader in the 1970s?",answer:"Mean Joe Greene"},{question:"Which NFL team was featured in 'Hard Knocks' in 2023?",answer:"Jets"},{question:"Who caught the helmet catch in Super Bowl XLII?",answer:"David Tyree"},{question:"Which QB started for the Eagles in the 2018 Super Bowl?",answer:"Nick Foles"},{question:"Which wide receiver was known as 'Megatron'?",answer:"Calvin Johnson"},{question:"Who led the NFL in rushing yards in 2016?",answer:"Ezekiel Elliott"}];async function b(){let e=function(){let e=new Date(new Date().toLocaleString("en-US",{timeZone:"America/New_York"}));return e.setHours(0,0,0,0),e.toISOString().slice(0,10)}(),t=(0,i.H9)(h,"dailyTrivia",e),r=await (0,i.x7)(t);if(r.exists()&&Array.isArray(r.data().questions))return r.data().questions;{let e=m.slice().sort(()=>.5-Math.random()).slice(0,5);return await (0,i.BN)(t,{questions:e}),e}}function f(e){if(e)return e.uid;let t=localStorage.getItem("anonUserId");return t||(t="anon-"+Math.random().toString(36).substring(2,15),localStorage.setItem("anonUserId",t)),t}async function w(e,t,r){try{let o=f(r);await (0,i.gS)((0,i.rJ)(h,"triviaGameScores"),{userId:o,score:e,time:t,playedAt:new Date().toISOString()}),await g(o)}catch(e){}}async function g(e){try{let t=(0,i.P)((0,i.rJ)(h,"triviaGameScores"),(0,i._M)("userId","==",e)),r=await (0,i.GG)(t),o=0,a=0;r.forEach(e=>{o+=e.data().score,a+=1});let n=0===a?0:o/a;await (0,i.BN)((0,i.H9)(h,"triviaAverages",e),{userId:e,averageScore:n,lastUpdated:new Date().toISOString(),gamesPlayed:a})}catch(e){}}async function x(e){try{let t=(0,i.H9)(h,"triviaAverages",e),r=await (0,i.x7)(t);if(r.exists())return r.data().averageScore;return null}catch(e){return null}}function p(e){let t=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)}function y(e){let t=e.map(e=>e?"✅":"❌");for(;t.length<5;)t.push("❓");return t.join("")}let v=()=>{var e;let[t,r]=(0,a.useState)(null),[n,l]=(0,a.useState)([]),[i,c]=(0,a.useState)(1),[h,m]=(0,a.useState)(0),[g,v]=(0,a.useState)([]),[S,N]=(0,a.useState)(0),[j,k]=(0,a.useState)(!1),[C,I]=(0,a.useState)(""),[q,W]=(0,a.useState)(!1),[B,E]=(0,a.useState)(!1),[L,A]=(0,a.useState)([]),[_,D]=(0,a.useState)(null),[M,H]=(0,a.useState)("Copy to Clipboard"),[T,F]=(0,a.useState)(!1),P=(0,a.useRef)(null),J=(0,a.useRef)(null);(0,a.useEffect)(()=>(document.body.style.backgroundImage="url('https://awolvision.com/cdn/shop/articles/sports_bar_awolvision.jpg?v=1713302733&width=1500')",document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",document.body.style.backgroundColor="#451a03",document.body.classList.add("font-montserrat"),()=>{document.body.style.backgroundImage="",document.body.style.backgroundSize="",document.body.style.backgroundPosition="",document.body.style.backgroundAttachment="",document.body.style.backgroundColor="",document.body.classList.remove("font-montserrat")}),[]),(0,a.useEffect)(()=>(0,d.hg)(u,e=>{r(e),e||(0,d.zK)(u)}),[]),(0,a.useEffect)(()=>{(async()=>{l(await b())})()},[]),(0,a.useEffect)(()=>{if(j)return J.current=setInterval(()=>{N(e=>e+1)},1e3),()=>{J.current&&clearInterval(J.current)}},[j]),(0,a.useEffect)(()=>{A(JSON.parse(localStorage.getItem("triviaGameHistory")||"[]"))},[q,B]),(0,a.useEffect)(()=>{t&&(async()=>{let e=f(t);D(await x(e))})()},[t,q]),(0,a.useEffect)(()=>{n.length>0&&!B&&(k(!0),N(0))},[n,B]);let O=()=>{var e;if(!n.length)return;let t=(null==(e=P.current)?void 0:e.value.trim().toLowerCase())||"",r=n[i-1].answer.toLowerCase();if(I(""),t===r)m(e=>e+5),I("Nailed it! +5 points! \uD83C\uDFC0"),v(e=>[...e,!0]),k(!1);else{if(2>=function(e,t){let r=Array(t.length+1).fill(null).map(()=>Array(e.length+1).fill(0));for(let t=0;t<=e.length;t++)r[0][t]=t;for(let e=0;e<=t.length;e++)r[e][0]=e;for(let o=1;o<=t.length;o++)for(let a=1;a<=e.length;a++){let n=+(e[a-1]!==t[o-1]);r[o][a]=Math.min(r[o-1][a]+1,r[o][a-1]+1,r[o-1][a-1]+n)}return r[t.length][e.length]}(t,r)&&t.length>0){I("So close! Try again, you're off by a letter or two!"),P.current&&(P.current.value="");return}I("Swing and a miss! The answer was ".concat(n[i-1].answer,".")),v(e=>[...e,!1]),k(!1)}};return(0,o.jsxs)("div",{className:"flex flex-col items-center min-h-screen font-montserrat",children:[(0,o.jsx)("style",{children:"\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in { animation: fade-in 0.3s ease-out; }\n        .font-montserrat { font-family: 'Montserrat', sans-serif; }\n        .share-buttons-row {\n          display: flex; flex-direction: row; gap: 14px; justify-content: center; align-items: center;\n        }\n        .clipboard-btn, .sms-btn {\n          background: #f9e38f; color: #533e1f; font-weight: bold; border-radius: 8px; border: 2px solid #cfb467;\n          padding: 7px 18px; cursor: pointer; box-shadow: 0 2px 8px #cfb46733; margin-top: 8px; margin-bottom: 8px;\n          transition: background 0.2s, color 0.2s; display: inline-block;\n        }\n        .clipboard-btn:hover, .sms-btn:hover { background: #fffbe7; color: #b88340; }\n        .share-preview {\n          font-size: 1.15rem; color: #f9e38f; font-weight: bold; margin-top: 10px; margin-bottom: 6px; text-align: center; word-break: break-word;\n        }\n        .share-link-ball {\n          color: #ffd700; text-decoration: underline; font-size: 1.15rem; font-weight: bold; margin-left: 6px; cursor: pointer;\n        }\n        .share-link-ball:hover { color: #ffbb33; text-decoration: underline; }\n      "}),(0,o.jsx)("header",{className:"w-full max-w-md bg-amber-800/90 text-yellow-300 text-center py-2 border-2 border-yellow-600 rounded-lg mb-4 shadow-lg transform hover:shadow-xl transition duration-200",children:(0,o.jsx)("p",{className:"text-lg font-bold",children:"New Games Daily at Midnight Eastern"})}),(0,o.jsxs)("div",{className:"bg-amber-900/90 p-6 rounded-xl shadow-2xl w-full max-w-md border-2 border-yellow-600 relative",id:"gameContainer",children:[(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:[(0,o.jsx)(s(),{href:"/",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"Home"}),(0,o.jsx)(s(),{href:"/news",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"News"}),(0,o.jsx)(s(),{href:"/game",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"Players"}),(0,o.jsx)(s(),{href:"/college-game",className:"flex-1 bg-amber-600 text-white font-bold p-2 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 border-2 border-yellow-600 shadow-md text-center",children:"College"})]}),(0,o.jsx)("h1",{className:"text-3xl font-bold text-center text-yellow-300 mb-4",children:"Trivia"}),(0,o.jsxs)("p",{className:"text-center text-yellow-300 mb-2 text-lg",children:["Question: ",(0,o.jsx)("span",{children:i}),"/5"]}),(0,o.jsx)("p",{className:"text-center text-yellow-300 mb-4 text-lg",id:"questionText",children:n.length?null==(e=n[i-1])?void 0:e.question:"Loading..."}),!B&&n.length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{ref:P,type:"text",placeholder:"Enter your answer...",className:"w-full p-3 bg-amber-800/90 text-white border-2 border-yellow-600 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-yellow-600",autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&O()},disabled:B}),(0,o.jsx)("button",{type:"button",className:"w-full bg-amber-600 text-white p-3 rounded-lg hover:bg-amber-700 transform hover:scale-105 transition duration-200 font-bold mb-2 border-2 border-yellow-600 shadow-md ".concat(g.length===i?"hidden":""),onClick:O,disabled:B,children:"Submit Answer"}),(0,o.jsx)("button",{type:"button",className:"w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transform hover:scale-105 transition duration-200 font-bold ".concat(g.length!==i?"hidden":""," border-2 border-yellow-600 shadow-md"),onClick:()=>{i<5?(c(e=>e+1),I(""),k(!0),P.current&&(P.current.value="")):(E(!0),F(!0),k(!1),((e,t)=>{let r=JSON.parse(localStorage.getItem("triviaGameHistory")||"[]");r.push({score:e,time:t,timestamp:new Date().toISOString()}),localStorage.setItem("triviaGameHistory",JSON.stringify(r)),A(r)})(h,S),w(h,S,t))},children:i<5?"Next Question":"Finish"})]}),(0,o.jsx)(s(),{id:"backToHome",href:"/",className:"w-full bg-red-600 text-white p-3 rounded-lg hover:bg-red-700 transform hover:scale-105 transition duration-200 font-bold ".concat(B?"":"hidden"," border-2 border-yellow-600 shadow-md text-center"),children:"Back to Home"}),(0,o.jsx)("button",{type:"button",id:"viewStats",className:"w-full bg-red-600 text-white p-3 rounded-lg hover:bg-red-700 transform hover:scale-105 transition duration-200 font-bold mt-2 border-2 border-yellow-600 shadow-md ".concat(B?"":"hidden"),onClick:()=>W(!0),children:"View Stats"}),(0,o.jsx)("p",{className:"text-center mt-4 text-xl font-bold animate-fade-in",children:C}),(0,o.jsxs)("div",{className:"flex flex-row items-center justify-center gap-4 mt-4",children:[(0,o.jsx)("div",{className:"bg-amber-800/90 text-yellow-300 border-2 border-yellow-600 rounded px-2 py-1 text-sm font-bold",children:p(S)}),(0,o.jsxs)("p",{className:"text-yellow-300 text-center mb-0",children:["Score: ",(0,o.jsx)("span",{children:h}),"/25"]})]}),(0,o.jsxs)("div",{className:"text-center mt-4 ".concat(T?"":"hidden"," text-yellow-300"),id:"shareLink",children:[(0,o.jsxs)("div",{className:"share-buttons-row",children:[(0,o.jsx)("button",{className:"clipboard-btn",onClick:()=>{let e=function(e){let t=window.location.origin+"/trivia-game",r=y(e);return"".concat(r," Do you know ball? ").concat(t)}(g);navigator.clipboard.writeText(e).then(()=>{H("Copied!"),setTimeout(()=>H("Copy to Clipboard"),1200)}).catch(()=>{H("Copy Failed"),setTimeout(()=>H("Copy to Clipboard"),1200)})},children:M}),(0,o.jsx)("a",{className:"sms-btn",href:function(e){let t=window.location.origin+"/trivia-game",r=y(e);return"sms:?body="+encodeURIComponent("".concat(r," Do you know ball? ").concat(t))}(g),target:"_blank",children:"Send as SMS"})]}),(0,o.jsx)("div",{className:"share-preview",dangerouslySetInnerHTML:{__html:function(e){let t=window.location.origin+"/trivia-game",r=y(e);return"".concat(r,' <a href="').concat(t,'" class="share-link-ball" target="_blank">Do you know ball?</a>')}(g)}})]})]}),q&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"bg-amber-800/90 p-6 rounded-xl w-full max-w-md border-2 border-yellow-600 shadow-lg",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-center text-yellow-300 mb-4",children:"Your NFL Trivia Stats"}),(0,o.jsx)("p",{className:"text-center text-yellow-300 mb-4 text-lg",children:null!==_?"Average Score (cloud): ".concat(_.toFixed(1),"/25"):"Average Score (local): ".concat(L.length>0?(L.reduce((e,t)=>e+t.score,0)/L.length).toFixed(1):"0","/25")}),(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"w-full text-yellow-300 border-collapse",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"bg-amber-700/90",children:[(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Attempt"}),(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Score"}),(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Time"}),(0,o.jsx)("th",{className:"p-2 border border-yellow-600",children:"Date"})]})}),(0,o.jsx)("tbody",{className:"text-center",children:L.map((e,t)=>(0,o.jsxs)("tr",{className:"hover:bg-amber-600",children:[(0,o.jsx)("td",{className:"p-2 border border-yellow-600",children:t+1}),(0,o.jsxs)("td",{className:"p-2 border border-yellow-600",children:[e.score,"/25"]}),(0,o.jsx)("td",{className:"p-2 border border-yellow-600",children:p(e.time)}),(0,o.jsx)("td",{className:"p-2 border border-yellow-600",children:new Date(e.timestamp).toLocaleString()})]},t))})]})}),(0,o.jsx)("button",{type:"button",className:"w-full bg-amber-600 text-white p-3 rounded-lg hover:bg-amber-700 font-bold mt-4 border-2 border-yellow-600 shadow-md",onClick:()=>W(!1),children:"Close"})]})})]})}},8897:(e,t,r)=>{Promise.resolve().then(r.bind(r,6217))}},e=>{e.O(0,[135,210,619,353,441,255,358],()=>e(e.s=8897)),_N_E=e.O()}]);